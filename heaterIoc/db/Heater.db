#! Generated by VisualDCT 3.0-beta
#! DBDSTART
#! DBDEND
record(epid, "$(Heater):pid") {
   field(TRIG, "1")
   field(LOPR, "0")
   field(SCAN, ".1 second")
   field(STPL, "$(Heater):calc.VAL PP NMS")
   field(FMOD, "PID")
   field(LOW, "4915")
   field(OUTL, "$(PW_OUT) PP NMS")
   field(FLNK, "$(Heater):out PP NMS")
   field(KP, "40")
   field(KI, "10")
   field(KD, "4")
   field(HIHI, "25000")
   field(FBON, "On")
   field(INP, "$(TMP_FB) PP NMS")
   field(LLSV, "MAJOR")
   field(LSV, "MINOR")
   field(HIGH, "24576")
   field(HHSV, "MAJOR")
   field(LOLO, "0")
   field(HSV, "MINOR")
   field(DRVL, "0")
   field(EGU, "%")
   field(DRVH, "24576")
   field(SMSL, "closed_loop")
   field(HOPR, "24576")
}

record(ai, "$(Heater):out") {
   field(INP, "$(Heater):pid.OVAL PP NMS")
}

record(ai, "$(Heater):setT") {
}

record(calc, "$(Heater):calc") {
   field(CALC, "(ABS(A-B)>5)?(A+C*(A>B?(-1):1)):B")
   field(INPC, "3.3")
   field(INPB, "$(Heater):setT.VAL NPP NMS")
   field(INPA, "$(TMP_FB)")
   field(FLNK, "$(Heater):pid PP NMS")
   field(SCAN, "300 second")
}

#! Record("$(Heater):pid", 100, 120, -16777216, 0, "null")
#! Field("$(Heater):pid.TRIG", -16777216, 0, "")
#! Field("$(Heater):pid.LOPR", -16777216, 0, "")
#! Field("$(Heater):pid.SCAN", -16777216, 0, "")
#! Field("$(Heater):pid.STPL", -16777216, 0, "")
#! Field("$(Heater):pid.FMOD", -16777216, 0, "")
#! Field("$(Heater):pid.LOW", -16777216, 0, "")
#! Field("$(Heater):pid.OUTL", -16777216, 0, "")
#! Field("$(Heater):pid.FLNK", -16777216, 0, "")
#! Field("$(Heater):pid.KP", -16777216, 0, "")
#! Field("$(Heater):pid.KI", -16777216, 0, "")
#! Field("$(Heater):pid.KD", -16777216, 0, "")
#! Field("$(Heater):pid.HIHI", -16777216, 0, "")
#! Field("$(Heater):pid.FBON", -16777216, 0, "")
#! Field("$(Heater):pid.INP", -16777216, 0, "")
#! Field("$(Heater):pid.LLSV", -16777216, 0, "")
#! Field("$(Heater):pid.LSV", -16777216, 0, "")
#! Field("$(Heater):pid.HIGH", -16777216, 0, "")
#! Field("$(Heater):pid.HHSV", -16777216, 0, "")
#! Field("$(Heater):pid.LOLO", -16777216, 0, "")
#! Field("$(Heater):pid.HSV", -16777216, 0, "")
#! Field("$(Heater):pid.DRVL", -16777216, 0, "")
#! Field("$(Heater):pid.EGU", -16777216, 0, "")
#! Field("$(Heater):pid.DRVH", -16777216, 0, "")
#! Field("$(Heater):pid.SMSL", -16777216, 0, "")
#! Field("$(Heater):pid.HOPR", -16777216, 0, "")
#! Record("$(Heater):out", 520, 140, -16777216, 0, "null")
#! Field("$(Heater):out.INP", -16777216, 0, "")
#! Record("$(Heater):setT", 20, 300, -16777216, 0, "null")
#! Record("$(Heater):calc", 240, 260, -16777216, 0, "null")
#! Field("$(Heater):calc.CALC", -16777216, 0, "")
#! Field("$(Heater):calc.INPC", -16777216, 0, "")
#! Field("$(Heater):calc.INPB", -16777216, 0, "")
#! Field("$(Heater):calc.INPA", -16777216, 0, "")
#! Field("$(Heater):calc.FLNK", -16777216, 0, "")
#! Field("$(Heater):calc.SCAN", -16777216, 0, "")
#! View(325, 293, 0.6)
#! Link("$(Heater):pid.FLNK", "$(Heater):out")
#! Link("$(Heater):pid.OVAL", "$(Heater):out.INP")
#! Link("$(Heater):calc.FLNK", "$(Heater):pid")
#! Link("$(Heater):setT.VAL", "$(Heater):calc.INPB")
#! Link("$(Heater):calc.VAL", "$(Heater):pid.STPL")
#! Connector("$(Heater):calc/FLNK2", "$(Heater):pid", 114, 242, -16777216, "")
#! Connector("$(Heater):calc/FLNK", "$(Heater):calc/FLNK1", 457, 326, -16777216, "")
#! Connector("$(Heater):calc/FLNK1", "$(Heater):calc/FLNK2", 285, 276, -16777216, "")
#! TextBox(TextBox0, 384, 424, 484, 464, 0, Dialog, 12, 0, -16777216, "5分钟执行周期，每次加3.3度", 0)
#! TextBox(TextBox1, 24, 384, 124, 424, 0, Dialog, 12, 0, -16777216, "目标温度设定值", 0)
#! TextBox(TextBox2, 184, 4, 360, 60, 0, Dialog, 12, 0, -16777216, "加强型PID，反馈温度来源于实测值$(temp_FB)调节输出到$(PW_OUT)", 0)
#! TextBox(TextBox3, 504, 224, 604, 264, 0, Dialog, 12, 0, -16777216, "功率调节输出值", 0)
