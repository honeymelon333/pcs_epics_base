#! Generated by VisualDCT 3.0-beta
#! DBDSTART
#! DBDEND
record(ao, "$(DEVICE):EnvLowTemp") {
   field(SCAN, "Passive")
   field(VAL, "-5")
   field(OMSL, "supervisory")
}

record(ai, "$(DEVICE):EnvTimePeriod") {
   field(SCAN, "Passive")
   field(VAL, "180")
}

record(ai, "$(DEVICE):RoomIsol") {
   field(SCAN, "Passive")
   field(VAL, "0.75")
}

record(ao, "$(DEVICE):TargTemp") {
   field(SCAN, "Passive")
   field(VAL, "22")
   field(OMSL, "supervisory")
   field(DRVH, "40")
   field(DRVL, "-10")
   field(HOPR, "30")
   field(LOPR, "-5")
   field(OUT, "$(DEVICE):neki NPP NMS")
}

record(ao, "$(DEVICE):TempMaxP") {
   field(SCAN, "Passive")
   field(VAL, "10")
   field(OMSL, "supervisory")
}

record(calc, "$(DEVICE):AirCPowLin") {
   field(SCAN, "Passive")
   field(VAL, "0")
   field(CALC, "(B - A) / C")
   field(INPA, "$(DEVICE):RoomTemp.VAL NPP NMS")
   field(INPB, "$(DEVICE):TargTemp.VAL NPP NMS")
   field(INPC, "$(DEVICE):TempMaxP.VAL NPP NMS")
}

record(calc, "$(DEVICE):AirCPowLowLimit") {
   field(SCAN, "Passive")
   field(CALC, "abs(A) < .25 ? 0 : A")
   field(INPA, "$(DEVICE):AirCPowLin.VAL NPP NMS")
}

record(calc, "$(DEVICE):OutTemp") {
   field(SCAN, "1 second")
   field(VAL, ".6")
   field(CALC, "(A + 1) / 2 * (C - B) + B")
   field(INPA, "$(DEVICE):SinTime.VAL NPP NMS")
   field(INPB, "$(DEVICE):EnvLowTemp.VAL NPP NMS")
   field(INPC, "$(DEVICE):EnvHighTemp.VAL NPP NMS")
   field(HOPR, "30")
   field(LOPR, "-5")
}

record(calc, "$(DEVICE):RoomTemp") {
   field(SCAN, "1 second")
   field(CALC, "A + (1 - E) * (B - A) + C * D")
   field(VAL, "22")
   field(INPB, "$(DEVICE):OutTemp.VAL NPP NMS")
   field(INPD, "$(DEVICE):AirCStr.VAL NPP NMS")
   field(INPE, "$(DEVICE):RoomIsol.VAL NPP NMS")
   field(FLNK, "$(DEVICE):TempDiff")
   field(HOPR, "30")
   field(LOPR, "-5")
}

record(calc, "$(DEVICE):SinTime") {
   field(SCAN, "Passive")
   field(CALC, "sin(2 * pi * A / B)")
   field(INPA, "$(DEVICE):Time.VAL NPP NMS")
   field(INPB, "$(DEVICE):EnvTimePeriod.VAL NPP NMS")
}

record(calc, "$(DEVICE):TempDiff") {
   field(SCAN, "Passive")
   field(CALC, "abs(A - B)")
   field(INPA, "$(DEVICE):RoomTemp.VAL NPP NMS")
   field(INPB, "$(DEVICE):TargTemp.VAL NPP NMS")
   field(HOPR, "30")
   field(LOPR, "-5")
   field(HIGH, "5")
   field(HSV, "MAJOR")
}

record(calc, "$(DEVICE):Time") {
   field(SCAN, "1 second")
   field(CALC, "A + 1")
}

record(ao, "$(DEVICE):EnvHighTemp") {
   field(SCAN, "Passive")
   field(VAL, "35")
   field(OMSL, "supervisory")
   field(OUT, "neki.VAL NPP NMS")
}

record(ai, "$(DEVICE):AirCStr") {
   field(SCAN, "Passive")
   field(VAL, "5")
}

record(ao, "$(DEVICE):neki") {
   field(OUT, "$(DEVICE):TempMaxP NPP NMS")
}

#! Record("$(DEVICE):EnvLowTemp", 120, 480, -16777216, 1, "$(DEVICE):EnvLowTemp")
#! Field("$(DEVICE):EnvLowTemp.SCAN", -16777216, 0, "")
#! Field("$(DEVICE):EnvLowTemp.VAL", -1, 1, "$(DEVICE):EnvLowTemp.VAL")
#! Field("$(DEVICE):EnvLowTemp.OMSL", -16777216, 0, "")
#! Record("$(DEVICE):EnvTimePeriod", 120, 380, -16777216, 1, "$(DEVICE):EnvTimePeriod")
#! Field("$(DEVICE):EnvTimePeriod.SCAN", -16777216, 0, "")
#! Field("$(DEVICE):EnvTimePeriod.VAL", -1, 1, "$(DEVICE):EnvTimePeriod.VAL")
#! Record("$(DEVICE):RoomIsol", 880, 640, -16777216, 1, "$(DEVICE):RoomIsol")
#! Field("$(DEVICE):RoomIsol.SCAN", -16777216, 0, "")
#! Field("$(DEVICE):RoomIsol.VAL", -1, 1, "$(DEVICE):RoomIsol.VAL")
#! Record("$(DEVICE):TargTemp", 458, 829, -16777216, 1, "$(DEVICE):TargTemp")
#! Field("$(DEVICE):TargTemp.SCAN", -16777216, 0, "")
#! Field("$(DEVICE):TargTemp.VAL", -1, 1, "$(DEVICE):TargTemp.VAL")
#! Field("$(DEVICE):TargTemp.OMSL", -16777216, 0, "")
#! Field("$(DEVICE):TargTemp.DRVH", -16777216, 0, "")
#! Field("$(DEVICE):TargTemp.DRVL", -16777216, 0, "")
#! Field("$(DEVICE):TargTemp.HOPR", -16777216, 0, "")
#! Field("$(DEVICE):TargTemp.LOPR", -16777216, 0, "")
#! Field("$(DEVICE):TargTemp.OUT", -1, 0, "$(DEVICE):TargTemp.OUT")
#! Record("$(DEVICE):TempMaxP", 1060, 880, -16777216, 1, "$(DEVICE):TempMaxP")
#! Field("$(DEVICE):TempMaxP.SCAN", -16777216, 0, "")
#! Field("$(DEVICE):TempMaxP.VAL", -1, 1, "$(DEVICE):TempMaxP.VAL")
#! Field("$(DEVICE):TempMaxP.OMSL", -16777216, 0, "")
#! Record("$(DEVICE):AirCPowLin", 1520, 660, -16777216, 1, "$(DEVICE):AirCPowLin")
#! Field("$(DEVICE):AirCPowLin.SCAN", -16777216, 0, "")
#! Field("$(DEVICE):AirCPowLin.VAL", -1, 1, "$(DEVICE):AirCPowLin.VAL")
#! Field("$(DEVICE):AirCPowLin.CALC", -16777216, 0, "")
#! Field("$(DEVICE):AirCPowLin.INPA", -1, 1, "$(DEVICE):AirCPowLin.INPA")
#! Field("$(DEVICE):AirCPowLin.INPB", -1, 0, "$(DEVICE):AirCPowLin.INPB")
#! Field("$(DEVICE):AirCPowLin.INPC", -1, 0, "$(DEVICE):AirCPowLin.INPC")
#! Record("$(DEVICE):AirCPowLowLimit", 1820, 900, -16777216, 1, "$(DEVICE):AirCPowLowLimit")
#! Field("$(DEVICE):AirCPowLowLimit.SCAN", -16777216, 0, "")
#! Field("$(DEVICE):AirCPowLowLimit.CALC", -16777216, 0, "")
#! Field("$(DEVICE):AirCPowLowLimit.INPA", -1, 0, "$(DEVICE):AirCPowLowLimit.INPA")
#! Record("$(DEVICE):OutTemp", 880, 280, -16777216, 1, "$(DEVICE):OutTemp")
#! Field("$(DEVICE):OutTemp.SCAN", -16777216, 0, "")
#! Field("$(DEVICE):OutTemp.VAL", -1, 1, "$(DEVICE):OutTemp.VAL")
#! Field("$(DEVICE):OutTemp.CALC", -16777216, 0, "")
#! Field("$(DEVICE):OutTemp.INPA", -1, 0, "$(DEVICE):OutTemp.INPA")
#! Field("$(DEVICE):OutTemp.INPB", -1, 0, "$(DEVICE):OutTemp.INPB")
#! Field("$(DEVICE):OutTemp.INPC", -1, 0, "$(DEVICE):OutTemp.INPC")
#! Field("$(DEVICE):OutTemp.HOPR", -16777216, 0, "")
#! Field("$(DEVICE):OutTemp.LOPR", -16777216, 0, "")
#! Record("$(DEVICE):RoomTemp", 1200, 360, -16777216, 1, "$(DEVICE):RoomTemp")
#! Field("$(DEVICE):RoomTemp.SCAN", -16777216, 0, "")
#! Field("$(DEVICE):RoomTemp.CALC", -16777216, 0, "")
#! Field("$(DEVICE):RoomTemp.VAL", -1, 1, "$(DEVICE):RoomTemp.VAL")
#! Field("$(DEVICE):RoomTemp.INPB", -1, 0, "$(DEVICE):RoomTemp.INPB")
#! Field("$(DEVICE):RoomTemp.INPD", -1, 0, "$(DEVICE):RoomTemp.INPD")
#! Field("$(DEVICE):RoomTemp.INPE", -1, 0, "$(DEVICE):RoomTemp.INPE")
#! Field("$(DEVICE):RoomTemp.FLNK", -1, 1, "$(DEVICE):RoomTemp.FLNK")
#! Field("$(DEVICE):RoomTemp.HOPR", -16777216, 0, "")
#! Field("$(DEVICE):RoomTemp.LOPR", -16777216, 0, "")
#! Record("$(DEVICE):SinTime", 520, 80, -16777216, 1, "$(DEVICE):SinTime")
#! Field("$(DEVICE):SinTime.SCAN", -16777216, 0, "")
#! Field("$(DEVICE):SinTime.CALC", -16777216, 0, "")
#! Field("$(DEVICE):SinTime.INPA", -1, 0, "$(DEVICE):SinTime.INPA")
#! Field("$(DEVICE):SinTime.INPB", -1, 0, "$(DEVICE):SinTime.INPB")
#! Record("$(DEVICE):TempDiff", 1820, 580, -16777216, 0, "$(DEVICE):TempDiff")
#! Field("$(DEVICE):TempDiff.SCAN", -16777216, 0, "")
#! Field("$(DEVICE):TempDiff.CALC", -16777216, 0, "")
#! Field("$(DEVICE):TempDiff.INPA", -1, 0, "$(DEVICE):TempDiff.INPA")
#! Field("$(DEVICE):TempDiff.INPB", -1, 0, "$(DEVICE):TempDiff.INPB")
#! Field("$(DEVICE):TempDiff.HOPR", -16777216, 0, "")
#! Field("$(DEVICE):TempDiff.LOPR", -16777216, 0, "")
#! Field("$(DEVICE):TempDiff.HIGH", -16777216, 0, "")
#! Field("$(DEVICE):TempDiff.HSV", -16777216, 0, "")
#! Record("$(DEVICE):Time", 120, 80, -16777216, 1, "$(DEVICE):Time")
#! Field("$(DEVICE):Time.SCAN", -16777216, 0, "")
#! Field("$(DEVICE):Time.CALC", -16777216, 0, "")
#! Record("$(DEVICE):EnvHighTemp", 429, 708, -16777216, 1, "$(DEVICE):EnvHighTemp")
#! Field("$(DEVICE):EnvHighTemp.SCAN", -16777216, 0, "")
#! Field("$(DEVICE):EnvHighTemp.VAL", -1, 1, "$(DEVICE):EnvHighTemp.VAL")
#! Field("$(DEVICE):EnvHighTemp.OMSL", -16777216, 0, "")
#! Field("$(DEVICE):EnvHighTemp.OUT", -1, 0, "$(DEVICE):EnvHighTemp.OUT")
#! Record("$(DEVICE):AirCStr", 880, 720, -16777216, 1, "$(DEVICE):AirCStr")
#! Field("$(DEVICE):AirCStr.SCAN", -16777216, 0, "")
#! Field("$(DEVICE):AirCStr.VAL", -1, 1, "$(DEVICE):AirCStr.VAL")
#! Record("$(DEVICE):neki", 771, 893, -16777216, 1, "neki")
#! Field("$(DEVICE):neki.OUT", -1, 1, "neki.OUT")
#! View(537, 415, 0.62)
#! Link("$(DEVICE):AirCPowLin.INPA", "$(DEVICE):RoomTemp.VAL")
#! Link("$(DEVICE):AirCPowLin.INPB", "$(DEVICE):TargTemp.VAL")
#! Link("$(DEVICE):AirCPowLin.INPC", "$(DEVICE):TempMaxP.VAL")
#! Link("$(DEVICE):AirCPowLowLimit.INPA", "$(DEVICE):AirCPowLin.VAL")
#! Link("$(DEVICE):OutTemp.INPA", "$(DEVICE):SinTime.VAL")
#! Link("$(DEVICE):OutTemp.INPB", "$(DEVICE):OutTemp/INPB1")
#! Link("$(DEVICE):OutTemp.INPC", "$(DEVICE):EnvHighTemp.VAL")
#! Link("$(DEVICE):RoomTemp.INPB", "$(DEVICE):OutTemp.VAL")
#! Link("$(DEVICE):RoomTemp.INPD", "$(DEVICE):AirCStr.VAL")
#! Link("$(DEVICE):RoomTemp.INPE", "$(DEVICE):RoomIsol.VAL")
#! Link("$(DEVICE):SinTime.INPA", "$(DEVICE):SinTime/INPA1")
#! Link("$(DEVICE):SinTime.INPB", "$(DEVICE):SinTime/INPB1")
#! Link("$(DEVICE):TempDiff.INPA", "$(DEVICE):RoomTemp.VAL")
#! Link("$(DEVICE):TempDiff.INPB", "$(DEVICE):TargTemp.VAL")
#! Link("$(DEVICE):neki.OUT", "$(DEVICE):TempMaxP")
#! Link("$(DEVICE):TargTemp.OUT", "$(DEVICE):neki")
#! Connector("$(DEVICE):SinTime/INPB1", "$(DEVICE):EnvTimePeriod.VAL", 397, 264, -16777216, "")
#! Connector("$(DEVICE):SinTime/INPA1", "$(DEVICE):Time.VAL", 430, 144, -16777216, "")
#! Connector("$(DEVICE):OutTemp/INPB1", "$(DEVICE):EnvLowTemp.VAL", 726, 412, -16777216, "")
